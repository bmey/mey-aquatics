<!DOCTYPE html>
<html>

<head>
  <style>
    .body {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .download {
      font-size: 1.5rem;
    }

    ol {
      padding: 0;
    }
  </style>
  <base target="_top">
</head>

<body class="body">
  <ol>
    <li>Right-click the link</li>
    <li>Open in new tab</li>
    <li>Rename file and add ".csv" to end</li>
  </ol>
  <a id="downloadLink" class="download" href="javascript:void(0)" download="<?= data.fileName ?>.csv">
    <?= data.fileName ?>
  </a>
  <script type="text/javascript">
    var csv = "<?= data.csvString ?>";
    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
    var downloadLink = document.getElementById('downloadLink');
    downloadLink.href = URL.createObjectURL(blob);
  </script>
</body>

</html>